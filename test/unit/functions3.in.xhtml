<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <style type="text/css-plus+css">
      /* TODO: remove the ::after for extra-hard testing */
      /*.chapter::after {
        content: 'Expected: 4 2 . Actual: ', count-of-type('li'), ' ', target-context('.scope-to-me', count-of-type('li'));
      }*/

      li::before {
        /*content: target-context('ol,ul', count-of-type('li'));*/
        content: parent-context(count-of-type('li'));
      }
    </style>
  </head>
<body>


<ol class="scope-to-me">
  <li>item1</li>
  <li>item2</li>
</ol>

<ul>
  <li>item3</li>
</ul>

<div class="chapter">
  <ul>
    <li>item4</li>
    <li>item5</li>
    <li>item6</li>
    <li>item7</li>
  </ul>
</div>

</body>
</html>
